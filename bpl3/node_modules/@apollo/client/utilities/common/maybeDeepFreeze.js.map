{"version":3,"file":"maybeDeepFreeze.js","sources":["maybeDeepFreeze.js"],"sourcesContent":["import { isDevelopment, isTest } from './environment';\nfunction isObject(value) {\n    return value !== null && typeof value === \"object\";\n}\nfunction deepFreeze(value) {\n    var workSet = new Set([value]);\n    workSet.forEach(function (obj) {\n        if (isObject(obj)) {\n            if (!Object.isFrozen(obj))\n                Object.freeze(obj);\n            Object.getOwnPropertyNames(obj).forEach(function (name) {\n                if (isObject(obj[name]))\n                    workSet.add(obj[name]);\n            });\n        }\n    });\n    return value;\n}\nexport function maybeDeepFreeze(obj) {\n    if (isDevelopment() || isTest()) {\n        deepFreeze(obj);\n    }\n    return obj;\n}\n//# sourceMappingURL=maybeDeepFreeze.js.map"],"names":[],"mappings":";;AACA,SAAS,QAAQ,CAAC,KAAK,EAAE;IACrB,OAAO,KAAK,KAAK,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,CAAC;CACtD;AACD,SAAS,UAAU,CAAC,KAAK,EAAE;IACvB,IAAI,OAAO,GAAG,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IAC/B,OAAO,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;QAC3B,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;YACf,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC;gBACrB,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACvB,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;gBACpD,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBACnB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;aAC9B,CAAC,CAAC;SACN;KACJ,CAAC,CAAC;IACH,OAAO,KAAK,CAAC;CAChB;AACD,AAAO,SAAS,eAAe,CAAC,GAAG,EAAE;IACjC,IAAI,aAAa,EAAE,IAAI,MAAM,EAAE,EAAE;QAC7B,UAAU,CAAC,GAAG,CAAC,CAAC;KACnB;IACD,OAAO,GAAG,CAAC;CACd;;;;"}